[Вернуться][main]

[Ссылка][hw] на ДЗ в Github Classroom.

1. Реализуйте HTTP API по RESTful архитектуре, которое удовлетворяет следующим требованиям:
    - "Слушает" `GET` запросы по пути `/hello`
    - При получении запроса - отвечает на него **строкой** (НЕ JSON) `"HSE One Love!"`
    - *** Ответ содержит заголовок `Content-Type: text/plain`
    - Код ответа `200 Ok`
    - Все параметры `GET` запроса (заголовки, аргументы в строке запроса) - игнорируются
    - При выполнении любого не разрешенного запроса (путь отличный от `/hello` или не GET) -
      возвращать `405 Method Not Allowed`

2. Доработайте REST API из первого задания. Реализуйте следующую функциональность:
    - Добавьте метод `/set`, который будет принимать от клиента данные вида "ключ-значение" и сохранять в оперативную
      память
        - Принимает `POST` запросы
        - Тело запроса должно быть в формате JSON
        - *** Выполняет проверку, что клиент передал заголовок `Content-Type: application/json` в запросе, иначе -
          вернуть код ответа `415 Unsupported Media Type`
        - Ожидает от клиента следующий JSON в теле:
      ```json
      {
          "key": "<строка с ключом>",
          "value": "<строка со значением>"
      }
      ```
        - Если в JSON отсутствуют поля `key` и/или `value` - вернуть код `400 Bad Request`, иные поля в запросе -
          игнорируются
        - Полученную пару строк "ключ-значение" необходимо сохранить в оперативную память и вернуть код `200 Ok`
        - Если в оперативной памяти уже присутствует переданный ключ - перезаписать значение
    - Добавить метод `/get/<key>`, который будет отдавать клиенту сохраненные данные вида "ключ-значения", которые были
      сохранены в оперативной памяти
        - Принимает `GET` запросы
        - Принимает аргумент `<key>` в строке запроса `/get/<key>`, где `<key>` является строкой
        - По аргументу `<key>` возвращает данные вида "ключ-значение", которые ранее были сохранены в оперативной памяти
          вызовом метода `/set`
        - Если в оперативной памяти не найден переданный ключ - вернуть код `404 Not Found`, если найден - `200 Ok`
        - *** Если данные по ключу найдены - ответ содержит заголовок `Content-Type: application/json`
        - Если ключ не найден, то ответ не содержит тела, если найден - данные возвращаются в виде следующего JSON:
      ```json
      {
          "key": "<строка с ключом>",
          "value": "<строка со значением>"
      }
      ```
    - При выполнении любого не разрешенного запроса (путь отличный от `/hello` или не GET) -
      возвращать `405 Method Not Allowed`

3. Добавьте к REST API метод `/divide`, который:
    - Принимает `POST` запросы
    - Тело запроса должно быть в формате JSON
    - *** Выполняет проверку, что клиент передал заголовок `Content-Type: application/json` в запросе, иначе - вернуть
      код ответа `415 Unsupported Media Type`
    - Ожидает от клиента следующий JSON в теле:
      ```json
      {
          "dividend": 10 # число, делимое,
          "divider": 10 # число, делитель
      }
      ```
    - Ответ должен содержать заголовок `Content-Type: text/plain`
    - Вернуть результат операции деления `dividend` на `divider` в теле просто в виде текста (НЕ JSON), код `200 Ok`
    - При возникновении ошибок во время выполнения программы - вернуть код `400 Bad Request`

4. *** Напишите Unit-тесты для вашего HTTP API, которые проверяют корректность выполнения
   методов `/hello`, `/set`, `/get` и `/divide` в различных случаях.

Материалы

- [Основы REST](https://tproger.ru/articles/osnovy-rest-teorija-i-praktika/)
- [Еще по REST'у на Хабре](https://habr.com/ru/post/483202/)
- [Списки кодов состояния HTTP](https://ru.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BA%D0%BE%D0%B4%D0%BE%D0%B2_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F_HTTP)

Критерии оценки:

| Критерий                                                                          | Количество баллов |
|-----------------------------------------------------------------------------------|-------------------|
| Реализован метод /hello                                                           | 1                 |
| Реализованы методы /get и /set                                                    | 2                 |
| Реализован метод /divide                                                          | 2                 |
| Во всех методах происходит установка корректного заголовка Content-Type в ответах | 2                 |
| Написаны Unit-тесты, которые проверяют корректность выполнения всех методов       | 2                 |
| Приложение собирается с Docker                                                    | 1                 |
|                                                                                   | 10                |

[Вернуться][main]

---

[main]: ../../README.md "содержание"

[hw]: https://classroom.github.com/a/ "ДЗ."
